<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Advanced job Search</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body,
      html {
        font-family: "Poppins", Arial, sans-serif;
        background: linear-gradient(135deg, #f6f9fc 0%, #e9f2f9 100%);
        margin: 0;
        padding: 0;
        overflow-x: hidden;
        color: #333;
      }
      .parallax-container {
        perspective: 1px;
        height: 100vh;
        overflow-x: hidden;
        overflow-y: auto;
      }
      .parallax-layer {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      }
      .parallax-background {
        transform: translateZ(-1px) scale(2);
        background: url("https://source.unsplash.com/random/1920x1080?abstract")
          no-repeat center center fixed;
        background-size: cover;
        z-index: -1;
      }
      .content {
        transform: translateZ(0);
        position: relative;
        background-color: rgba(255, 255, 255, 0.9);
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        border-radius: 15px;
        margin: 20px auto;
        padding: 40px;
        max-width: 800px;
      }
      h1 {
        text-align: center;
        font-size: 3em;
        color: #333;
        margin-bottom: 40px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        animation: slideDown 1s ease-out;
      }
      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-50px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      form {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }
      .form-group {
        margin-bottom: 20px;
        animation: fadeIn 0.5s ease-out forwards;
        opacity: 0;
      }
      @keyframes fadeIn {
        to {
          opacity: 1;
        }
      }
      label {
        display: block;
        font-size: 1.2em;
        margin-bottom: 10px;
        color: #2c3e50;
        font-weight: bold;
      }
      input[type="text"],
      input[type="number"],
      input[type="date"], /* Added date style */
      select {
        width: 100%;
        padding: 10px;
        font-size: 1em;
        border-radius: 5px;
        border: 1px solid #ddd;
        background-color: #f7f7f7;
        box-sizing: border-box;
        transition: all 0.3s ease;
      }
      input[type="text"]:focus,
      input[type="number"]:focus,
      input[type="date"]:focus, /* Added date focus style */
      select:focus {
        border-color: #3498db;
        background-color: #fff;
        outline: none;
        box-shadow: 0 0 10px rgba(52, 152, 219, 0.1);
      }
      input[type="checkbox"] {
        margin-right: 10px;
      }
      button[type="submit"] {
        display: block;
        width: 100%;
        padding: 15px 30px;
        background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        color: #fff;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        font-size: 1.2em;
        font-weight: 600;
        transition: all 0.3s ease;
        text-align: center;
        box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        animation: float 3s ease-in-out infinite;
      }
      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }
      button[type="submit"]:hover {
        background: linear-gradient(135deg, #2980b9 0%, #3498db 100%);
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
      }
      .checkbox-container {
        display: flex;
        align-items: center;
        cursor: pointer;
        font-size: 1.1em;
        user-select: none;
        padding: 10px;
        border-radius: 10px;
        transition: all 0.3s ease;
      }
      .checkbox-container:hover {
        background-color: rgba(52, 152, 219, 0.1);
      }
      .checkbox-container input {
        position: absolute;
        opacity: 0;
        cursor: pointer;
        height: 0;
        width: 0;
      }
      .checkmark {
        height: 25px;
        width: 25px;
        background-color: #fff;
        border: 2px solid #3498db;
        border-radius: 5px;
        margin-right: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
      }
      .checkbox-container:hover input ~ .checkmark {
        background-color: #eaf2f8;
      }
      .checkbox-container input:checked ~ .checkmark {
        background-color: #3498db;
      }
      .checkmark:after {
        content: "";
        position: absolute;
        display: none;
        width: 5px;
        height: 10px;
        border: solid white;
        border-width: 0 3px 3px 0;
        transform: rotate(45deg);
      }
      .checkbox-container input:checked ~ .checkmark:after {
        display: block;
      }
      .checkbox-label {
        color: #2c3e50;
        font-weight: 500;
      }
      .form-group select {
        width: 100%;
        padding: 10px;
        font-size: 1em;
        border-radius: 5px;
        border: 1px solid #ddd;
        background-color: #fff;
        box-sizing: border-box;
        transition: all 0.3s ease;
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%23333' d='M6 9L1.5 4.5l.707-.707L6 7.586l3.793-3.793.707.707z'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-position: right 10px center;
        padding-right: 30px;
      }
      .form-group select:focus {
        border-color: #3498db;
        outline: none;
        box-shadow: 0 0 5px rgba(52, 152, 219, 0.5);
      }
      .or-separator {
        display: flex;
        align-items: center;
        text-align: center;
        color: #666;
        font-weight: bold;
        margin: 20px 0;
      }
      .or-separator::before,
      .or-separator::after {
        content: "";
        flex: 1;
        border-bottom: 1px solid #ccc;
      }
      .or-separator::before {
        margin-right: 0.25em;
      }
      .or-separator::after {
        margin-left: 0.25em;
      }
      .form-group-container {
        position: relative;
      }
      .form-group-label {
        position: absolute;
        top: -10px;
        left: 10px;
        background-color: white;
        padding: 0 5px;
        font-size: 0.9em;
        color: #666;
      }
      input[type="date"] {
        appearance: none;
        -webkit-appearance: none;
        background-color: #ff69b4; /* Hot pink background */
        color: white;
        padding: 10px;
        border: none;
        border-radius: 25px;
        font-size: 1em;
        font-weight: bold;
        box-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
        transition: all 0.3s ease;
      }

      input[type="date"]::-webkit-calendar-picker-indicator {
        filter: invert(1); /* Make the calendar icon white */
        opacity: 0.8;
        cursor: pointer;
      }

      input[type="date"]:hover,
      input[type="date"]:focus {
        background-color: #ff1493; /* Deeper pink on hover/focus */
        box-shadow: 0 0 15px rgba(255, 20, 147, 0.7);
        transform: scale(1.05);
      }
      input[type="datetime-local"] {
        appearance: none;
        -webkit-appearance: none;
        background-color: #f0f4f8; /* Subtle blue-gray background */
        color: #333; /* Dark gray text for better readability */
        padding: 10px;
        border: 1px solid #ccc; /* Light gray border */
        border-radius: 5px; /* Rounded corners */
        font-size: 1em;
        font-weight: bold;
        box-shadow: 0 0 5px rgba(200, 200, 200, 0.5); /* Soft gray shadow */
        transition: all 0.3s ease;
      }

      input[type="datetime-local"]:hover,
      input[type="datetime-local"]:focus {
        background-color: #dbe2e8; /* Slightly darker blue-gray on hover/focus */
        box-shadow: 0 0 10px rgba(220, 220, 220, 0.7); /* Darker shadow on focus */
        transform: scale(1.05); /* Slightly larger on focus for emphasis */
      }

      input[type="datetime-local"]::-webkit-calendar-picker-indicator {
        filter: invert(0.5); /* Darken the calendar icon a bit */
        opacity: 0.8;
        cursor: pointer;
      }
      .or-separator {
        display: flex;
        align-items: center;
        text-align: center;
        color: #666;
        font-weight: bold;
        margin: 20px 0;
      }
      .or-separator::before,
      .or-separator::after {
        content: "";
        flex: 1;
        border-bottom: 1px solid #ccc;
      }
      .or-separator::before {
        margin-right: 0.25em;
      }
      .or-separator::after {
        margin-left: 0.25em;
      }
      /* #totalJobsButton {
        margin-top: 20px;
        background-color: #2ecc71;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 1em;
        transition: background-color 0.3s ease;
      }

      #totalJobsButton:hover {
        background-color: #27ae60;
      }

      #totalJobsResult {
        margin-top: 10px;
        font-size: 1.2em;
        font-weight: bold;
        color: #2c3e50;
      } */

      .logout-button {
        display: block;
        width: 100%;
        padding: 15px 30px;
        background: linear-gradient(135deg, #c0392b 0%, #e74c3c 100%);
        color: #fff;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        font-size: 1.2em;
        font-weight: 600;
        transition: all 0.3s ease;
        text-align: center;
        margin-top: 20px; /* Space from the search button */
        box-shadow: 0 4px 15px rgba(231, 76, 60, 0.3);
      }
      .logout-button:hover {
        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 6px 20px rgba(231, 76, 60, 0.4);
      }
    </style>
  </head>
  <body>
    <div class="parallax-container">
      <div class="parallax-layer parallax-background"></div>
      <div class="parallax-layer content">
        <h1>Advanced Job Search</h1>
        <div id="error-message" style="color: red; display: none"></div>
        <form action="/search-jobs" method="POST">
          <div class="form-group" style="animation-delay: 0.5s">
            <label for="job_title">Job Titles:</label>
            <input
              type="text"
              id="job_title"
              name="job_title"
              placeholder="e.g., Backend developer, Frontend developer, Data analyst"
            />
          </div>
          <div class="or-separator">OR</div>
          <div class="form-group" style="animation-delay: 0.2s">
            <label for="role_function">Job Function:</label>
            <select id="role_function" name="role_function">
              <option value="" selected>Select a job function</option>
              <option value="Sales">Sales</option>
              <option value="Marketing">Marketing</option>
              <option value="CustomerService">Customer Service</option>
              <option value="HumanResource">Human Resources</option>
              <option value="BusinessDevelopment">Business Development</option>
              <option value="Engineering">Engineer</option>
              <option value="Developer">Developer</option>
              <option value="Growth">Growth</option>
              <option value="Revenue">Revenue</option>
              <option value="Accounting">Accounting</option>
              <option value="Finance">Finance</option>
              <option value="Healthcare">Health Care</option>
              <option value="GeneralBusiness">General Business</option>
              <option value="InformationTechnology">
                Information Technology
              </option>
              <option value="Legal">Legal</option>
              <option value="Education">Education</option>
              <option value="Creative">Creative</option>
              <option value="Design">Design</option>
              <option value="Hospitality">Hospitality</option>
              <option value="Tourism">Tourism</option>
              <option value="Construction">Construction</option>
            </select>
          </div>
          <div class="form-group" style="animation-delay: 0.4s">
            <label for="location">Location:</label>
            <input
              type="text"
              id="location"
              name="location"
              placeholder="Type a location"
              list="location-suggestions"
              data-value=""
              required
            />
            <datalist id="location-suggestions"></datalist>
            <input
              type="hidden"
              id="location_hidden"
              name="location_hidden"
              value=""
            />
          </div>
          <div class="form-group" style="animation-delay: 0.3s">
            <label for="num_jobs">Number of Jobs (optional):</label>
            <input
              type="number"
              id="num_jobs"
              name="num_jobs"
              min="1"
              max="10000"
              placeholder="Enter a number between 1 and 100K"
            />
          </div>
          <div class="form-group" style="animation-delay: 0.6s">
            <label for="job_listed_date">Job Listed From:</label>
            <input
              type="datetime-local"
              id="job_listed_date"
              name="job_listed_date"
              placeholder="Select date and time"
              step="60"
              max="<%= new Date().toISOString().slice(0, 16) %>"
            />
          </div>
          <div class="or-separator">OR</div>

          <div class="form-group" style="animation-delay: 0.7s">
            <label for="job_listed_range">Job Listed Within:</label>
            <select id="job_listed_range" name="job_listed_range">
              <option value="" selected>Select a time range</option>
              <option value="24hours">Past 24 hours</option>
              <option value="48hours">Past 48 hours</option>
              <option value="week">Past week</option>
              <option value="month">Past month</option>
            </select>
          </div>
          <div class="form-group" style="animation-delay: 0.3s">
            <label for="industry">Industry:</label>
            <select id="industry" name="industry">
              <option value="" selected>Select an industry</option>
              <option value="Abrasives and Nonmetallic Minerals Manufacturing">
                Abrasives and Nonmetallic Minerals Manufacturing
              </option>
              <option value="Accessible Architecture and Design">
                Accessible Architecture and Design
              </option>
              <option value="Accessible Hardware Manufacturing">
                Accessible Hardware Manufacturing
              </option>
              <option value="Accommodation and Food Services">
                Accommodation and Food Services
              </option>
              <option value="Accounting">Accounting</option>
              <option value="Actuarial Services">Actuarial Services</option>
              <option value="Administration of Justice">
                Administration of Justice
              </option>
              <option value="Administrative and Support Services">
                Administrative and Support Services
              </option>
              <option value="Advertising Services">Advertising Services</option>
              <option value="Agricultural Chemical Manufacturing">
                Agricultural Chemical Manufacturing
              </option>
              <option value="Agriculture">Agriculture</option>
              <option value="Air">Air</option>
              <option value="Airlines and Aviation">
                Airlines and Aviation
              </option>
              <option value="Alternative Dispute Resolution">
                Alternative Dispute Resolution
              </option>
              <option value="Alternative Fuel Vehicle Manufacturing">
                Alternative Fuel Vehicle Manufacturing
              </option>
              <option value="Alternative Medicine">Alternative Medicine</option>
              <option value="Amusement Parks and Arcades">
                Amusement Parks and Arcades
              </option>
              <option value="Animal Feed Manufacturing">
                Animal Feed Manufacturing
              </option>
              <option value="Animation">Animation</option>
              <option value="Animation and Post-production">
                Animation and Post-production
              </option>
              <option value="Apparel & Fashion">Apparel & Fashion</option>
              <option value="Apparel Manufacturing">
                Apparel Manufacturing
              </option>
              <option value="Appliances">Appliances</option>
              <option value="Architectural and Structural Metal Manufacturing">
                Architectural and Structural Metal Manufacturing
              </option>
              <option value="Architecture and Planning">
                Architecture and Planning
              </option>
              <option value="Armed Forces">Armed Forces</option>
              <option
                value="Artificial Rubber and Synthetic Fiber Manufacturing"
              >
                Artificial Rubber and Synthetic Fiber Manufacturing
              </option>
              <option value="Artists and Writers">Artists and Writers</option>
              <option value="Audio and Video Equipment Manufacturing">
                Audio and Video Equipment Manufacturing
              </option>
              <option value="Automation Machinery Manufacturing">
                Automation Machinery Manufacturing
              </option>
              <option value="Automotive">Automotive</option>
              <option value="Aviation & Aerospace">Aviation & Aerospace</option>
              <option value="Aviation and Aerospace Component Manufacturing">
                Aviation and Aerospace Component Manufacturing
              </option>
              <option value="Baked Goods Manufacturing">
                Baked Goods Manufacturing
              </option>
              <option value="Ball">Ball</option>
              <option value="Banking">Banking</option>
              <option value="Bed-and-Breakfasts">Bed-and-Breakfasts</option>
              <option value="Beverage Manufacturing">
                Beverage Manufacturing
              </option>
              <option value="Biotechnology">Biotechnology</option>
              <option value="Biotechnology Research">
                Biotechnology Research
              </option>
              <option value="Boilers">Boilers</option>
              <option value="Book Publishing">Book Publishing</option>
              <option value="Book and Periodical Publishing">
                Book and Periodical Publishing
              </option>
              <option value="Broadcast Media Production and Distribution">
                Broadcast Media Production and Distribution
              </option>
              <option value="Building Construction">
                Building Construction
              </option>
              <option value="Building Equipment Contractors">
                Building Equipment Contractors
              </option>
              <option value="Building Finishing Contractors">
                Building Finishing Contractors
              </option>
              <option value="Building Materials">Building Materials</option>
              <option value="Building Structure and Exterior Contractors">
                Building Structure and Exterior Contractors
              </option>
              <option value="Business Consulting and Services">
                Business Consulting and Services
              </option>
              <option value="Business Content">Business Content</option>
              <option value="Business Intelligence Platforms">
                Business Intelligence Platforms
              </option>
              <option value="Capital Markets">Capital Markets</option>
              <option value="Caterers">Caterers</option>
              <option value="Ceramics and Concrete Manufacturing">
                Ceramics and Concrete Manufacturing
              </option>
              <option value="Chemical Manufacturing">
                Chemical Manufacturing
              </option>
              <option value="Chemical Raw Materials Manufacturing">
                Chemical Raw Materials Manufacturing
              </option>
              <option value="Child Day Care Services">
                Child Day Care Services
              </option>
              <option value="Civic and Social Organizations">
                Civic and Social Organizations
              </option>
              <option value="Civil Engineering">Civil Engineering</option>
              <option value="Claims Adjusting">Claims Adjusting</option>
              <option value="Clay and Refractory Products Manufacturing">
                Clay and Refractory Products Manufacturing
              </option>
              <option value="Climate Data and Analytics">
                Climate Data and Analytics
              </option>
              <option value="Climate Technology Product Manufacturing">
                Climate Technology Product Manufacturing
              </option>
              <option value="Coating">Coating</option>
              <option value="Collection Agencies">Collection Agencies</option>
              <option value="Commercial Real Estate">
                Commercial Real Estate
              </option>
              <option value="Commercial and Industrial Equipment Rental">
                Commercial and Industrial Equipment Rental
              </option>
              <option value="Commercial and Industrial Machinery Maintenance">
                Commercial and Industrial Machinery Maintenance
              </option>
              <option
                value="Commercial and Service Industry Machinery Manufacturing"
              >
                Commercial and Service Industry Machinery Manufacturing
              </option>
              <option value="Communications Equipment Manufacturing">
                Communications Equipment Manufacturing
              </option>
              <option value="Community Development and Urban Planning">
                Community Development and Urban Planning
              </option>
              <option value="Community Services">Community Services</option>
              <option value="Computer Games">Computer Games</option>
              <option value="Computer Hardware">Computer Hardware</option>
              <option value="Computer Hardware Manufacturing">
                Computer Hardware Manufacturing
              </option>
              <option value="Computer Networking">Computer Networking</option>
              <option value="Computer Networking Products">
                Computer Networking Products
              </option>
              <option value="Computer and Network Security">
                Computer and Network Security
              </option>
              <option value="Computers and Electronics Manufacturing">
                Computers and Electronics Manufacturing
              </option>
              <option value="Conservation Programs">
                Conservation Programs
              </option>
              <option value="Construction">Construction</option>
              <option value="Construction Hardware Manufacturing">
                Construction Hardware Manufacturing
              </option>
              <option value="Consumer Electronics">Consumer Electronics</option>
              <option value="Consumer Goods">Consumer Goods</option>
              <option value="Consumer Goods Rental">
                Consumer Goods Rental
              </option>
              <option value="Consumer Services">Consumer Services</option>
              <option value="Control">Control</option>
              <option value="Correctional Institutions">
                Correctional Institutions
              </option>
              <option value="Cosmetics">Cosmetics</option>
              <option value="Courts of Law">Courts of Law</option>
              <option value="Credit Intermediation">
                Credit Intermediation
              </option>
              <option value="Dairy Product Manufacturing">
                Dairy Product Manufacturing
              </option>
              <option value="Data Infrastructure and Analytics">
                Data Infrastructure and Analytics
              </option>
              <option value="Data Security Software Products">
                Data Security Software Products
              </option>
              <option value="Defense & Space">Defense & Space</option>
              <option value="Defense and Space Manufacturing">
                Defense and Space Manufacturing
              </option>
              <option value="Dentists">Dentists</option>
              <option value="Design">Design</option>
              <option value="Design Services">Design Services</option>
              <option value="Desktop Computing Software Products">
                Desktop Computing Software Products
              </option>
              <option value="Digital Accessibility Services">
                Digital Accessibility Services
              </option>
              <option value="E-Learning Providers">E-Learning Providers</option>
              <option value="E-learning">E-learning</option>
              <option value="Economic Programs">Economic Programs</option>
              <option value="Education">Education</option>
              <option value="Education Administration Programs">
                Education Administration Programs
              </option>
              <option value="Education Management">Education Management</option>
              <option value="Electric Lighting Equipment Manufacturing">
                Electric Lighting Equipment Manufacturing
              </option>
              <option value="Electric Power Generation">
                Electric Power Generation
              </option>
              <option value="Electric Power Transmission">
                Electric Power Transmission
              </option>
              <option value="Electrical">Electrical</option>
              <option value="Electrical Equipment Manufacturing">
                Electrical Equipment Manufacturing
              </option>
              <option value="Electronic and Precision Equipment Maintenance">
                Electronic and Precision Equipment Maintenance
              </option>
              <option value="Embedded Software Products">
                Embedded Software Products
              </option>
              <option value="Engineering Services">Engineering Services</option>
              <option
                value="Engines and Power Transmission Equipment Manufacturing"
              >
                Engines and Power Transmission Equipment Manufacturing
              </option>
              <option value="Entertainment">Entertainment</option>
              <option value="Entertainment Providers">
                Entertainment Providers
              </option>
              <option value="Environmental Quality Programs">
                Environmental Quality Programs
              </option>
              <option value="Environmental Services">
                Environmental Services
              </option>
              <option value="Equipment Rental Services">
                Equipment Rental Services
              </option>
              <option value="Events Services">Events Services</option>
              <option value="Executive Offices">Executive Offices</option>
              <option value="Executive Search Services">
                Executive Search Services
              </option>
              <option value="Fabricated Metal Products">
                Fabricated Metal Products
              </option>
              <option value="Facilities Services">Facilities Services</option>
              <option value="Family Planning Centers">
                Family Planning Centers
              </option>
              <option value="Farming">Farming</option>
              <option value="Fashion Accessories Manufacturing">
                Fashion Accessories Manufacturing
              </option>
              <option value="Financial Services">Financial Services</option>
              <option value="Fine Art">Fine Art</option>
              <option value="Fine Arts Schools">Fine Arts Schools</option>
              <option value="Fire Protection">Fire Protection</option>
              <option value="Fisheries">Fisheries</option>
              <option value="Food & Beverages">Food & Beverages</option>
              <option value="Food Production">Food Production</option>
              <option value="Food and Beverage Manufacturing">
                Food and Beverage Manufacturing
              </option>
              <option value="Food and Beverage Retail">
                Food and Beverage Retail
              </option>
              <option value="Food and Beverage Services">
                Food and Beverage Services
              </option>
              <option value="Footwear Manufacturing">
                Footwear Manufacturing
              </option>
              <option value="Forestry">Forestry</option>
              <option value="Forestry and Logging">Forestry and Logging</option>
              <option value="Fossil Fuel Electric Power Generation">
                Fossil Fuel Electric Power Generation
              </option>
              <option value="Freight and Package Transportation">
                Freight and Package Transportation
              </option>
              <option value="Fruit and Vegetable Preserves Manufacturing">
                Fruit and Vegetable Preserves Manufacturing
              </option>
              <option value="Fuel Cell Manufacturing">
                Fuel Cell Manufacturing
              </option>
              <option value="Fundraising">Fundraising</option>
              <option value="Funds and Trusts">Funds and Trusts</option>
              <option value="Furniture">Furniture</option>
              <option value="Furniture and Home Furnishings Manufacturing">
                Furniture and Home Furnishings Manufacturing
              </option>
              <option value="Gambling Facilities and Casinos">
                Gambling Facilities and Casinos
              </option>
              <option value="Gas">Gas</option>
              <option value="Glass">Glass</option>
              <option value="Glass Product Manufacturing">
                Glass Product Manufacturing
              </option>
              <option value="Golf Courses and Country Clubs">
                Golf Courses and Country Clubs
              </option>
              <option value="Government Administration">
                Government Administration
              </option>
              <option value="Government Relations">Government Relations</option>
              <option value="Government Relations Services">
                Government Relations Services
              </option>
              <option value="Graphic Design">Graphic Design</option>
              <option value="Ground Passenger Transportation">
                Ground Passenger Transportation
              </option>
              <option value="HVAC and Refrigeration Equipment Manufacturing">
                HVAC and Refrigeration Equipment Manufacturing
              </option>
              <option value="Health">Health</option>
              <option value="Health and Human Services">
                Health and Human Services
              </option>
              <option value="Heating Equipment">Heating Equipment</option>
              <option value="Higher Education">Higher Education</option>
              <option value="Highway">Highway</option>
              <option value="Historical Sites">Historical Sites</option>
              <option value="Holding Companies">Holding Companies</option>
              <option value="Home Health Care Services">
                Home Health Care Services
              </option>
              <option value="Homestays">Homestays</option>
              <option value="Horticulture">Horticulture</option>
              <option value="Hospitality">Hospitality</option>
              <option value="Hospitals">Hospitals</option>
              <option value="Hospitals and Health Care">
                Hospitals and Health Care
              </option>
              <option value="Hostels">Hostels</option>
              <option value="Hotels and Motels">Hotels and Motels</option>
              <option value="Household Appliance Manufacturing">
                Household Appliance Manufacturing
              </option>
              <option value="Household Services">Household Services</option>
              <option value="Housing Programs">Housing Programs</option>
              <option value="Housing and Community Development">
                Housing and Community Development
              </option>
              <option value="Human Resources">Human Resources</option>
              <option value="Human Resources Services">
                Human Resources Services
              </option>
              <option value="IT Services and IT Consulting">
                IT Services and IT Consulting
              </option>
              <option value="IT System Custom Software Development">
                IT System Custom Software Development
              </option>
              <option value="IT System Data Services">
                IT System Data Services
              </option>
              <option value="IT System Design Services">
                IT System Design Services
              </option>
              <option value="IT System Installation and Disposal">
                IT System Installation and Disposal
              </option>
              <option value="IT System Operations and Maintenance">
                IT System Operations and Maintenance
              </option>
              <option value="IT System Testing and Evaluation">
                IT System Testing and Evaluation
              </option>
              <option value="IT System Training and Support">
                IT System Training and Support
              </option>
              <option value="Individual and Family Services">
                Individual and Family Services
              </option>
              <option value="Industrial Automation">
                Industrial Automation
              </option>
              <option value="Industrial Machinery Manufacturing">
                Industrial Machinery Manufacturing
              </option>
              <option value="Industry Associations">
                Industry Associations
              </option>
              <option value="Information Services">Information Services</option>
              <option value="Information Technology & Services">
                Information Technology & Services
              </option>
              <option value="Information and Internet">
                Information and Internet
              </option>
              <option value="Information and Media">
                Information and Media
              </option>
              <option value="Insurance">Insurance</option>
              <option value="Insurance Agencies and Brokerages">
                Insurance Agencies and Brokerages
              </option>
              <option value="Insurance Carriers">Insurance Carriers</option>
              <option value="Insurance and Employee Benefit Funds">
                Insurance and Employee Benefit Funds
              </option>
              <option value="Interior Design">Interior Design</option>
              <option value="International Affairs">
                International Affairs
              </option>
              <option value="International Trade and Development">
                International Trade and Development
              </option>
              <option value="Internet Marketplace Platforms">
                Internet Marketplace Platforms
              </option>
              <option value="Internet News">Internet News</option>
              <option value="Internet Publishing">Internet Publishing</option>
              <option value="Investment Advice">Investment Advice</option>
              <option value="Investment Banking">Investment Banking</option>
              <option value="Investment Management">
                Investment Management
              </option>
              <option value="Janitorial Services">Janitorial Services</option>
              <option value="Landscaping Services">Landscaping Services</option>
              <option value="Law Enforcement">Law Enforcement</option>
              <option value="Law Practice">Law Practice</option>
              <option value="Leasing Non-residential Real Estate">
                Leasing Non-residential Real Estate
              </option>
              <option value="Leasing Residential Real Estate">
                Leasing Residential Real Estate
              </option>
              <option value="Legal Services">Legal Services</option>
              <option value="Legislative Offices">Legislative Offices</option>
              <option value="Leisure">Leisure</option>
              <option value="Libraries">Libraries</option>
              <option value="Lime and Gypsum Products Manufacturing">
                Lime and Gypsum Products Manufacturing
              </option>
              <option value="Loan Brokers">Loan Brokers</option>
              <option value="Logistics">Logistics</option>
              <option value="Luxury Goods & Jewelry">
                Luxury Goods & Jewelry
              </option>
              <option value="Machinery Manufacturing">
                Machinery Manufacturing
              </option>
              <option value="Magnetic and Optical Media Manufacturing">
                Magnetic and Optical Media Manufacturing
              </option>
              <option value="Manufacturing">Manufacturing</option>
              <option value="Maritime Transportation">
                Maritime Transportation
              </option>
              <option value="Market Research">Market Research</option>
              <option value="Marketing Services">Marketing Services</option>
              <option value="Mattress and Blinds Manufacturing">
                Mattress and Blinds Manufacturing
              </option>
              <option value="Measuring and Control Instrument Manufacturing">
                Measuring and Control Instrument Manufacturing
              </option>
              <option value="Meat Products Manufacturing">
                Meat Products Manufacturing
              </option>
              <option value="Mechanical Or Industrial Engineering">
                Mechanical Or Industrial Engineering
              </option>
              <option value="Media Production">Media Production</option>
              <option value="Media and Telecommunications">
                Media and Telecommunications
              </option>
              <option value="Medical Device">Medical Device</option>
              <option value="Medical Equipment Manufacturing">
                Medical Equipment Manufacturing
              </option>
              <option value="Medical Practices">Medical Practices</option>
              <option value="Medical and Diagnostic Laboratories">
                Medical and Diagnostic Laboratories
              </option>
              <option value="Mental Health Care">Mental Health Care</option>
              <option value="Metal Ore Mining">Metal Ore Mining</option>
              <option value="Metal Treatments">Metal Treatments</option>
              <option value="Metal Valve">Metal Valve</option>
              <option value="Metalworking Machinery Manufacturing">
                Metalworking Machinery Manufacturing
              </option>
              <option value="Military and International Affairs">
                Military and International Affairs
              </option>
              <option value="Mining">Mining</option>
              <option value="Mining Machinery Manufacturing">
                Mining Machinery Manufacturing
              </option>
              <option value="Mobile Computing Software Products">
                Mobile Computing Software Products
              </option>
              <option value="Mobile Food Services">Mobile Food Services</option>
              <option value="Motor Vehicle Manufacturing">
                Motor Vehicle Manufacturing
              </option>
              <option value="Motor Vehicle Parts Manufacturing">
                Motor Vehicle Parts Manufacturing
              </option>
              <option value="Movies">Movies</option>
              <option value="Museums">Museums</option>
              <option value="Musicians">Musicians</option>
              <option value="Nanotechnology Research">
                Nanotechnology Research
              </option>
              <option value="Natural Gas Distribution">
                Natural Gas Distribution
              </option>
              <option value="Newspaper Publishing">Newspaper Publishing</option>
              <option value="Non-profit Organization Management">
                Non-profit Organization Management
              </option>
              <option value="Non-profit Organizations">
                Non-profit Organizations
              </option>
              <option value="Nonresidential Building Construction">
                Nonresidential Building Construction
              </option>
              <option value="Nuclear Electric Power Generation">
                Nuclear Electric Power Generation
              </option>
              <option value="Nursing Homes and Residential Care Facilities">
                Nursing Homes and Residential Care Facilities
              </option>
              <option value="Occupational and Speech Therapists">
                Occupational and Speech Therapists
              </option>
              <option value="Office Administration">
                Office Administration
              </option>
              <option value="Office Furniture and Fixtures Manufacturing">
                Office Furniture and Fixtures Manufacturing
              </option>
              <option value="Oil">Oil</option>
              <option value="Oil and Coal Product Manufacturing">
                Oil and Coal Product Manufacturing
              </option>
              <option value="Oil and Gas">Oil and Gas</option>
              <option value="Online Audio and Video Media">
                Online Audio and Video Media
              </option>
              <option value="Online Media">Online Media</option>
              <option value="Online and Mail Order Retail">
                Online and Mail Order Retail
              </option>
              <option value="Operations Consulting">
                Operations Consulting
              </option>
              <option value="Optometrists">Optometrists</option>
              <option value="Outpatient Care Centers">
                Outpatient Care Centers
              </option>
              <option value="Outsourcing and Offshoring Consulting">
                Outsourcing and Offshoring Consulting
              </option>
              <option value="Outsourcing/Offshoring">
                Outsourcing/Offshoring
              </option>
              <option value="Packaging & Containers">
                Packaging & Containers
              </option>
              <option value="Packaging and Containers Manufacturing">
                Packaging and Containers Manufacturing
              </option>
              <option value="Paint">Paint</option>
              <option value="Paper & Forest Products">
                Paper & Forest Products
              </option>
              <option value="Paper and Forest Product Manufacturing">
                Paper and Forest Product Manufacturing
              </option>
              <option value="Pension Funds">Pension Funds</option>
              <option value="Performing Arts">Performing Arts</option>
              <option value="Performing Arts and Spectator Sports">
                Performing Arts and Spectator Sports
              </option>
              <option value="Personal Care Product Manufacturing">
                Personal Care Product Manufacturing
              </option>
              <option value="Personal and Laundry Services">
                Personal and Laundry Services
              </option>
              <option value="Pet Services">Pet Services</option>
              <option value="Pharmaceutical Manufacturing">
                Pharmaceutical Manufacturing
              </option>
              <option value="Philanthropic Fundraising Services">
                Philanthropic Fundraising Services
              </option>
              <option value="Photography">Photography</option>
              <option value="Physical">Physical</option>
              <option value="Physicians">Physicians</option>
              <option value="Pipeline Transportation">
                Pipeline Transportation
              </option>
              <option value="Plastics Manufacturing">
                Plastics Manufacturing
              </option>
              <option value="Plastics and Rubber Product Manufacturing">
                Plastics and Rubber Product Manufacturing
              </option>
              <option value="Plumbing">Plumbing</option>
              <option value="Political Organizations">
                Political Organizations
              </option>
              <option value="Primary Metal Manufacturing">
                Primary Metal Manufacturing
              </option>
              <option value="Primary and Secondary Education">
                Primary and Secondary Education
              </option>
              <option value="Printing Services">Printing Services</option>
              <option value="Professional Organizations">
                Professional Organizations
              </option>
              <option value="Professional Services">
                Professional Services
              </option>
              <option value="Professional Training and Coaching">
                Professional Training and Coaching
              </option>
              <option value="Program Development">Program Development</option>
              <option value="Public Assistance Programs">
                Public Assistance Programs
              </option>
              <option value="Public Health">Public Health</option>
              <option value="Public Policy">Public Policy</option>
              <option value="Public Policy Offices">
                Public Policy Offices
              </option>
              <option value="Public Relations and Communications Services">
                Public Relations and Communications Services
              </option>
              <option value="Public Safety">Public Safety</option>
              <option value="Radio and Television Broadcasting">
                Radio and Television Broadcasting
              </option>
              <option value="Rail Transportation">Rail Transportation</option>
              <option value="Railroad Equipment Manufacturing">
                Railroad Equipment Manufacturing
              </option>
              <option value="Ranching">Ranching</option>
              <option value="Ranching and Fisheries">
                Ranching and Fisheries
              </option>
              <option value="Real Estate">Real Estate</option>
              <option value="Real Estate Agents and Brokers">
                Real Estate Agents and Brokers
              </option>
              <option value="Real Estate and Equipment Rental Services">
                Real Estate and Equipment Rental Services
              </option>
              <option value="Recreational Facilities">
                Recreational Facilities
              </option>
              <option value="Religious Institutions">
                Religious Institutions
              </option>
              <option value="Renewable Energy Equipment Manufacturing">
                Renewable Energy Equipment Manufacturing
              </option>
              <option value="Renewable Energy Power Generation">
                Renewable Energy Power Generation
              </option>
              <option value="Renewable Energy Semiconductor Manufacturing">
                Renewable Energy Semiconductor Manufacturing
              </option>
              <option value="Renewables & Environment">
                Renewables & Environment
              </option>
              <option value="Repair and Maintenance">
                Repair and Maintenance
              </option>
              <option value="Research">Research</option>
              <option value="Research Services">Research Services</option>
              <option value="Residential Building Construction">
                Residential Building Construction
              </option>
              <option value="Restaurants">Restaurants</option>
              <option value="Retail">Retail</option>
              <option value="Retail Apparel and Fashion">
                Retail Apparel and Fashion
              </option>
              <option value="Retail Appliances">Retail Appliances</option>
              <option value="Retail Art Dealers">Retail Art Dealers</option>
              <option value="Retail Art Supplies">Retail Art Supplies</option>
              <option value="Retail Building Materials and Garden Equipment">
                Retail Building Materials and Garden Equipment
              </option>
              <option value="Retail Furniture and Home Furnishings">
                Retail Furniture and Home Furnishings
              </option>
              <option value="Retail Gasoline">Retail Gasoline</option>
              <option value="Retail Groceries">Retail Groceries</option>
              <option value="Retail Health and Personal Care Products">
                Retail Health and Personal Care Products
              </option>
              <option value="Retail Luxury Goods and Jewelry">
                Retail Luxury Goods and Jewelry
              </option>
              <option value="Retail Motor Vehicles">
                Retail Motor Vehicles
              </option>
              <option value="Retail Musical Instruments">
                Retail Musical Instruments
              </option>
              <option value="Retail Office Equipment">
                Retail Office Equipment
              </option>
              <option value="Retail Office Supplies and Gifts">
                Retail Office Supplies and Gifts
              </option>
              <option value="Retail Pharmacies">Retail Pharmacies</option>
              <option value="Retail Recyclable Materials & Used Merchandise">
                Retail Recyclable Materials & Used Merchandise
              </option>
              <option value="Robot Manufacturing">Robot Manufacturing</option>
              <option value="Robotics Engineering">Robotics Engineering</option>
              <option value="Rubber Products Manufacturing">
                Rubber Products Manufacturing
              </option>
              <option value="School and Employee Bus Services">
                School and Employee Bus Services
              </option>
              <option value="Securities and Commodity Exchanges">
                Securities and Commodity Exchanges
              </option>
              <option value="Security Guards and Patrol Services">
                Security Guards and Patrol Services
              </option>
              <option value="Security Systems Services">
                Security Systems Services
              </option>
              <option value="Security and Investigations">
                Security and Investigations
              </option>
              <option value="Semiconductor Manufacturing">
                Semiconductor Manufacturing
              </option>
              <option value="Semiconductors">Semiconductors</option>
              <option value="Services for Renewable Energy">
                Services for Renewable Energy
              </option>
              <option value="Services for the Elderly and Disabled">
                Services for the Elderly and Disabled
              </option>
              <option value="Shipbuilding">Shipbuilding</option>
              <option
                value="Shuttles and Special Needs Transportation Services"
              >
                Shuttles and Special Needs Transportation Services
              </option>
              <option value="Sightseeing Transportation">
                Sightseeing Transportation
              </option>
              <option value="Smart Meter Manufacturing">
                Smart Meter Manufacturing
              </option>
              <option value="Soap and Cleaning Product Manufacturing">
                Soap and Cleaning Product Manufacturing
              </option>
              <option value="Social Networking Platforms">
                Social Networking Platforms
              </option>
              <option value="Software Development">Software Development</option>
              <option value="Solar Electric Power Generation">
                Solar Electric Power Generation
              </option>
              <option value="Space Research and Technology">
                Space Research and Technology
              </option>
              <option value="Specialty Trade Contractors">
                Specialty Trade Contractors
              </option>
              <option value="Spectator Sports">Spectator Sports</option>
              <option value="Sporting Goods">Sporting Goods</option>
              <option value="Sporting Goods Manufacturing">
                Sporting Goods Manufacturing
              </option>
              <option value="Sports Teams and Clubs">
                Sports Teams and Clubs
              </option>
              <option value="Sports and Recreation Instruction">
                Sports and Recreation Instruction
              </option>
              <option value="Spring and Wire Product Manufacturing">
                Spring and Wire Product Manufacturing
              </option>
              <option value="Staffing and Recruiting">
                Staffing and Recruiting
              </option>
              <option value="Stationery">Stationery</option>
              <option value="Steel">Steel</option>
              <option value="Steel Product Manufacturing">
                Steel Product Manufacturing
              </option>
              <option value="Stock">Stock</option>
              <option value="Stock and Commodity Exchanges">
                Stock and Commodity Exchanges
              </option>
              <option value="Structural Steel and Precast Concrete Contractors">
                Structural Steel and Precast Concrete Contractors
              </option>
              <option value="Sugar and Confectionery Products Manufacturing">
                Sugar and Confectionery Products Manufacturing
              </option>
              <option value="Supermarkets">Supermarkets</option>
              <option value="Supply Chain">Supply Chain</option>
              <option value="Supply Chain and Logistics">
                Supply Chain and Logistics
              </option>
              <option value="Support Activities for Air Transportation">
                Support Activities for Air Transportation
              </option>
              <option value="Support Activities for Water Transportation">
                Support Activities for Water Transportation
              </option>
              <option value="Support Activities for Water Transportation">
                Support Activities for Water Transportation
              </option>
              <option
                value="Switchgear and Switchboard Apparatus Manufacturing"
              >
                Switchgear and Switchboard Apparatus Manufacturing
              </option>
              <option value="Telecommunications">Telecommunications</option>
              <option value="Television Broadcasting">
                Television Broadcasting
              </option>
              <option value="Textile">Textile</option>
              <option value="Textile Mills">Textile Mills</option>
              <option value="Textile Product Mills">
                Textile Product Mills
              </option>
              <option
                value="Third Party Administration of Insurance and Pension Funds"
              >
                Third Party Administration of Insurance and Pension Funds
              </option>
              <option value="Thrift Stores">Thrift Stores</option>
              <option value="Tire Manufacturing">Tire Manufacturing</option>
              <option value="Tobacco Manufacturing">
                Tobacco Manufacturing
              </option>
              <option value="Tour Operators">Tour Operators</option>
              <option value="Tourism">Tourism</option>
              <option value="Trade Shows and Conferences">
                Trade Shows and Conferences
              </option>
              <option value="Translation and Interpretation Services">
                Translation and Interpretation Services
              </option>
              <option value="Transportation">Transportation</option>
              <option value="Transportation and Warehousing">
                Transportation and Warehousing
              </option>
              <option value="Travel Arrangement and Reservation Services">
                Travel Arrangement and Reservation Services
              </option>
              <option value="Travel Agencies">Travel Agencies</option>
              <option value="Trucking">Trucking</option>
              <option value="Urban Transit Systems">
                Urban Transit Systems
              </option>
              <option value="Utilities">Utilities</option>
              <option value="Vacation Rentals">Vacation Rentals</option>
              <option value="Venture Capital">Venture Capital</option>
              <option value="Veterinary Services">Veterinary Services</option>
              <option value="Video and Motion Picture Production">
                Video and Motion Picture Production
              </option>
              <option value="Video and Sound Equipment Manufacturing">
                Video and Sound Equipment Manufacturing
              </option>
              <option value="Vocational Rehabilitation Services">
                Vocational Rehabilitation Services
              </option>
              <option value="Warehousing and Storage">
                Warehousing and Storage
              </option>
              <option value="Waste Management and Remediation Services">
                Waste Management and Remediation Services
              </option>
              <option value="Waste Treatment and Disposal">
                Waste Treatment and Disposal
              </option>
              <option value="Water Supply">Water Supply</option>
              <option value="Water Transportation">Water Transportation</option>
              <option value="Water, Sewage and Other Systems">
                Water, Sewage and Other Systems
              </option>
              <option value="Web Hosting">Web Hosting</option>
              <option value="Wholesale">Wholesale</option>
              <option value="Wholesale Building Materials">
                Wholesale Building Materials
              </option>
              <option value="Wholesale Chemicals">Wholesale Chemicals</option>
              <option value="Wholesale Electronics">
                Wholesale Electronics
              </option>
              <option value="Wholesale Food Products">
                Wholesale Food Products
              </option>
              <option value="Wholesale Hardware">Wholesale Hardware</option>
              <option value="Wholesale Machinery">Wholesale Machinery</option>
              <option value="Wholesale Metals and Minerals">
                Wholesale Metals and Minerals
              </option>
              <option value="Wholesale Office Equipment">
                Wholesale Office Equipment
              </option>
              <option value="Wholesale Pharmaceuticals">
                Wholesale Pharmaceuticals
              </option>
              <option value="Wholesale Trade">Wholesale Trade</option>
              <option value="Wind Electric Power Generation">
                Wind Electric Power Generation
              </option>
              <option
                value="Wine and Distilled Alcoholic Beverage Manufacturing"
              >
                Wine and Distilled Alcoholic Beverage Manufacturing
              </option>
              <option value="Wineries">Wineries</option>
              <option value="Wireless Telecommunications">
                Wireless Telecommunications
              </option>
              <option value="Wood Product Manufacturing">
                Wood Product Manufacturing
              </option>
              <option value="Wood and Paper Manufacturing">
                Wood and Paper Manufacturing
              </option>
              <option value="Woodworking Machinery Manufacturing">
                Woodworking Machinery Manufacturing
              </option>
              <option value="Wool Textile Manufacturing">
                Wool Textile Manufacturing
              </option>
              <option value="Writing and Editing Services">
                Writing and Editing Services
              </option>
              <option value="Writing and Editing">Writing and Editing</option>
              <option value="Yoga Instruction">Yoga Instruction</option>
              <option value="Youth Services">Youth Services</option>
              <option value="Zoos and Botanical Gardens">
                Zoos and Botanical Gardens
              </option>
              <option value="Zoos and Botanical Gardens">
                Zoos and Botanical Gardens
              </option>
            </select>
          </div>

          <button type="submit" id="submitButton">Search Jobs</button>
          <!-- <button
            type="button"
            class="logout-button"
            onclick="location.href='/logout'"
          >
            Log Out
          </button> -->
        </form>
        <!-- <button id="totalJobsButton">Get Total Jobs</button>
        <div id="totalJobsResult"></div> -->
      </div>
    </div>
    <script>
          //      document.getElementById('logoutButton').addEventListener('click', function() {
          //     window.location.href = '/logout'; // Update this URL if needed
          // });
          document.addEventListener("DOMContentLoaded", function() {
        const logoutButton = document.getElementById('logoutButton');

        if(logoutButton) {
          logoutButton.addEventListener('click', function() {
            console.log('Logout button clicked');
            window.location.href = '/logout'; // Update this URL if needed
          });
        } else {
          console.log('Logout button not found');
        }
      });
              document.addEventListener("DOMContentLoaded", function () {
                const form = document.querySelector("form");
                const submitButton = document.getElementById("submitButton");
                const locationInput = document.getElementById("location");
                const errorMessage = document.getElementById("error-message");
                const jobTitleInput = document.getElementById("job_title");
                const jobFunctionSelect = document.getElementById("role_function");
                const industrySelect = document.getElementById("industry");
                const jobListedDateInput = document.getElementById("job_listed_date");
                const jobListedRangeSelect =
                  document.getElementById("job_listed_range");

                    const locationArr = [
                      <% locationArr.forEach(function(location) { %>
                        {
                          label: "<%= location.label %>",
                          value: "<%= location.value %>"
                        },
                      <% }); %>
                    ];

                function suggestOptions(input, optionsArr) {
                  const suggestions = optionsArr.filter((option) =>
                    option.label.toLowerCase().startsWith(input.toLowerCase())
                  );
                  suggestions.sort((a, b) => a.label.length - b.label.length);
                  return suggestions.slice(0, 5); // Limit to 5 suggestions
                }

                function displaySuggestions(suggestions, datalistId) {
                  const datalist = document.getElementById(datalistId);
                  datalist.innerHTML = "";

                  suggestions.forEach((suggestion) => {
                    const option = document.createElement("option");
                    option.value = suggestion.label;
                    option.dataset.value = JSON.stringify(suggestion);
                    datalist.appendChild(option);
                  });
                }


                function updateHiddenField(input, optionsArr, hiddenFieldId) {
                  const matchedOption = optionsArr.find(
                    (option) => option.label.toLowerCase() === input.value.toLowerCase()
                  );
                  if (matchedOption) {
                    document.getElementById(hiddenFieldId).value =
                      JSON.stringify(matchedOption);
                    errorMessage.style.display = "none";
                  } else {
                    document.getElementById(hiddenFieldId).value = "";
                    errorMessage.textContent = `Please select a valid ${input.id} from the list.`;
                    errorMessage.style.display = "block";
                  }
                }

                function handleInputChange(
                  input,
                  optionsArr,
                  suggestionsId,
                  hiddenFieldId
                ) {
                  input.addEventListener("input", function () {
                    const suggestions = suggestOptions(this.value, optionsArr);
                    displaySuggestions(suggestions, suggestionsId);
                    updateHiddenField(this, optionsArr, hiddenFieldId);
                  });

                  input.addEventListener("change", function () {
                    updateHiddenField(this, optionsArr, hiddenFieldId);
                  });
                }

                handleInputChange(
                  locationInput,
                  locationArr,
                  "location-suggestions",
                  "location_hidden"
                );

                // Add event listeners for job listed date and range
                jobListedDateInput.addEventListener("change", function () {
                  if (this.value) {
                    jobListedRangeSelect.disabled = true;
                  } else {
                    jobListedRangeSelect.disabled = false;
                  }
                });

                jobListedRangeSelect.addEventListener("change", function () {
                  if (this.value) {
                    jobListedDateInput.disabled = true;
                  } else {
                    jobListedDateInput.disabled = false;
                  }
                });

                form.addEventListener("submit", function (e) {
                  let isValid = true;
                  errorMessage.textContent = "";

                  updateHiddenField(locationInput, locationArr, "location_hidden");

                  if (document.getElementById("location_hidden").value === "") {
                    errorMessage.textContent +=
                      "Please select a valid location from the list. ";
                    isValid = false;
                  }

                  if (
                    jobTitleInput.value.trim() === "" &&
                    jobFunctionSelect.value === "" &&
                    industrySelect.value === ""
                  ) {
                    errorMessage.textContent +=
                      "Please provide either job titles, select a job function, or select an industry. ";
                    isValid = false;
                  }

                  // if (jobListedDateInput.value && jobListedRangeSelect.value) {
                  //   errorMessage.textContent +=
                  //     "Please select either 'Job Listed From' or 'Job Listed Within', not both. ";
                  //   isValid = false;
                  // }

                  if (!isValid) {
                    e.preventDefault(); // Prevent form submission
                    errorMessage.style.display = "block";
                    return;
                  }

                  errorMessage.style.display = "none";
                  // Disable the button
                  submitButton.disabled = true;
                  submitButton.textContent = "Searching...";

                  setTimeout(function () {
                    submitButton.disabled = false;
                    submitButton.textContent = "Search Jobs";
                  }, 20000); // Re-enable after 20 seconds
                });
              });
    </script>
  </body>
</html>
